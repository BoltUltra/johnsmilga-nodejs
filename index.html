<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Login Form</title>
</head>

<body>
  <h3>Welcome back</h3>
  <p>Login to continue</p>

  <form id="loginForm">
    <label for="phone">Phone Number:</label>
    <input type="text" id="phone" name="phone" required>

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>

    <button type="submit">Login</button>
  </form>

  <script>
    const loginForm = document.getElementById("loginForm");

    loginForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      const phone = document.getElementById("phone").value;
      const password = document.getElementById("password").value;

      const data = {
        phone: phone,
        password: password
      };

      try {
        const response = await fetch("https://kudinka.000webhostapp.com/api/auth/login.php", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Accept": "application/json"
          },
          body: JSON.stringify(data)
        });

        const responseData = await response.json();
        console.log(responseData);

        if (responseData.status) {
          // Login successful
          // You can handle the success case here, such as redirecting to the home page
          console.log("Login successful");

        } else {
          // Invalid login details
          console.log(responseData.message);
        }
      } catch (error) {
        // Error occurred
        console.log("An error occurred. Please try again.");
      }
    });

    // const contentful = require('contentful')

    // const client = contentful.createClient({
    //   space: 'i8kil20ewtns',
    //   environment: 'master', // defaults to 'master' if not set
    //   accessToken: 'IsSiWO0nojORgikRAJaPeODdRqBpCsQvjwERdut_OxU'
    // })

    // client.getEntries()
    //   .then((response) => console.log(response.items))
    //   .catch(console.error)
  </script>


</body>

</html>